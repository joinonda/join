<div class="overlay" (click)="onBackdropClick($event)">
  <div class="dialog-container">
    <div class="dialog-content">
      <div class="page-header">
        <div class="header-content">
          <h2>Contacts</h2>
          <p>Better with a team</p>
          <div class="header-separator"></div>
        </div>
        <button class="back-btn" (click)="onClose()">
          <img src="imgs/arrow-to-left.png" alt="Back" width="32" height="32" />
        </button>
      </div>

      @if (contact) {
      <div class="contact-detail">
        <div class="detail-header">
          <div class="detail-avatar-container">
            <div class="detail-avatar" [style.background-color]="contactColor">
              {{ getInitials(contact.firstName, contact.lastName) }}
            </div>
          </div>
          <div class="detail-name-section">
            <h1 class="detail-name">{{ contact.firstName }} {{ contact.lastName }}</h1>
          </div>
        </div>

        <div class="detail-info-section">
          <h3 class="info-title">Contact Information</h3>

          <div class="info-content">
            <div class="info-group">
              <label class="info-label">Email</label>
              <a [href]="'mailto:' + contact.email" class="info-value email-link">
                {{ contact.email }}
              </a>
            </div>

            <div class="info-group">
              <label class="info-label">Phone</label>
              <span class="info-value">{{ contact.phone }}</span>
            </div>
          </div>
        </div>
      </div>
      }

      <button class="fab-button" (click)="toggleMenu()">
        <img src="imgs/edit-mobile-dark-dots.png" alt="" />
      </button>

      @if (showMenu) {
      <div class="dropdown-menu">
        <button class="dropdown-item" (click)="onEdit()">
          <img src="imgs/edit-dark.png" alt="" />
        </button>
        <button class="dropdown-item" (click)="onDelete()">
          <img src="imgs/delete-dark.png" alt="" />
        </button>
      </div>
      }
    </div>
  </div>

  @if (showDeleteDialog) {
  <app-contact-delete-dialog (delete)="confirmDelete()" (cancel)="cancelDelete()">
  </app-contact-delete-dialog>
  }
</div>
