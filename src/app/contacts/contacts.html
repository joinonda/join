<section class="contacts-section">
  <div class="contacts-container">
    <div class="add-contact-btn-container">
      <button class="add-contact-btn">
        <span>Add new Contact</span>
        <img src="/imgs/add-new-contact-person-plus.png" width="32px" height="32px" alt="" />
      </button>
    </div>
    <div class="contact-list">
      <div class="contacts-scroll">
        @for (letter of alphabet; track letter) {
          @if (groupedContacts[letter]?.length) {
            <div class="contact-group">
              <div class="letter-header">{{ letter }}</div>
              @for (contact of groupedContacts[letter]; track contact.id) {
                <div 
                  class="contact-item"
                  [class.selected]="isSelected(contact)"
                  (click)="selectContact(contact)"
                >
                  <div class="contact-avatar" [style.background-color]="getContactColor(contact)">
                    {{ getInitials(contact.firstName, contact.lastName) }}
                  </div>
                  <div class="contact-info">
                    <div class="contact-name">{{ contact.firstName }} {{ contact.lastName }}</div>
                    <div class="contact-email">{{ contact.email }}</div>
                  </div>
                </div>
              }
            </div>
          }
        }
      </div>
    </div>
  </div>
  <div class="contacts-header">
    <div class="header-content">
      <h2>Contacts</h2>
      <div class="header-separator"></div>
      <p>Better with a team</p>
    </div>
    
    @if (selectedContact) {
      <div class="detail-container">
        <app-contact-detail 
          [contact]="selectedContact"
          [contactColor]="getContactColor(selectedContact)"
          (edit)="onEdit()"
          (delete)="onDelete()"
        ></app-contact-detail>
      </div>
    }
  </div>
</section>
